<div
    id="wizard"
    class="md:max-w-lg relative animate__animated {% if prev %} animate__fadeInLeft {% endif %} {% if next %} animate__fadeInRight {% endif %} p-6 max-w-m bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"
>
    <!-- Top Right Link -->
    <a
        href="{{url_for('guide')}}"
        class="mb-3 text-base dark:text-gray-400 absolute top-0 right-0 p-2 mr-2"
    >
        <span class="emoji">&#x1F4C3;</span> {{ _("Guide") }}</a
    >

    <h4 class="flex mb-3 text-xl font-bold dark:text-white">
        <span class="emoji mr-1">&#128161;</span> {{ _("What is Jellyfin?") }}
    </h4>

    <p class="mb-2 text-gray-700 dark:text-gray-400 ml-4 px-1">The only streaming service you'll need.</p>

    <ul class="mb-2 text-gray-700 dark:text-gray-400 ml-4 px-1">
        <li class="flex items-center space-x-3">
            <!-- Icon -->
            <svg
                class="flex-shrink-0 w-5 h-5 text-green-500 dark:text-green-400"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"
                ></path>
            </svg>
            <span
                >{{ _("Stream movies and TV shows in one place")
                }}</span
            >
        </li>
        <li class="flex items-center space-x-3">
            <!-- Icon -->
            <svg
                class="flex-shrink-0 w-5 h-5 text-green-500 dark:text-green-400"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"
                ></path>
            </svg>
            <span
                >{{ _("Access our digital library on ") }}<span
                    class="font-bold"
                    >ANY</span
                >{{ _(" device") }}</span
            >
        </li>

        <li class="flex items-center space-x-3">
            <!-- Icon -->
            <svg
                class="flex-shrink-0 w-5 h-5 text-green-500 dark:text-green-400"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"
                ></path>
            </svg>
            <span>Set up and use it easily</span>
        </li>
    </ul>

    <br />
    <h4 class="flex mb-3 text-xl font-bold dark:text-white">
        <span class="emoji mr-1">üçø</span> {{ _("Request Your Favourite Shows") }}
    </h4>

    <!-- Request for shows link -->
    <p class="mb-2 text-gray-700 dark:text-gray-400 ml-4 px-1">
        {{ _("Can't find what you're looking for? Make a request
            and we'll do our best to find it automatically!") }}
    </p>

    <br />

    <div class="text-center">
        <!-- Watch Online Link -->
        <a
            href="/setup/open-jellyfin"
            target="_blank"
            class="my-1 mx-1 inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-primary rounded-lg hover:bg-primary_hover focus:ring-4 focus:outline-none focus:ring-amber-300 dark:bg-primary dark:hover:bg-primary_hover dark:focus:ring-primary_hover"
        >
            {{ _("Watch Online") }}
            <svg
                class="ml-2 w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"
                ></path>
                <path
                    d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"
                ></path>
            </svg>
        </a>
        <!-- Download App Link -->
        <a
            href="{{ request_url }}"
            target="_blank"
            class="my-1 mx-1 inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-primary rounded-lg hover:bg-primary_hover focus:ring-4 focus:outline-none focus:ring-amber-300 dark:bg-primary dark:hover:bg-primary_hover dark:focus:ring-primary_hover"
        >
            {{ _("Make Requests") }}
            <svg
                class="ml-2 w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"
                ></path>
                <path
                    d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"
                ></path>
            </svg>
        </a>

        <!-- Download Link -->
        <a
            href="https://jellyfin.org/downloads"
            target="_blank"
            class="my-1 mx-1 inline-flex items-center py-2 px-3 text-sm font-medium text-center text-white bg-primary rounded-lg hover:bg-primary_hover focus:ring-4 focus:outline-none focus:ring-amber-300 dark:bg-primary dark:hover:bg-primary_hover dark:focus:ring-primary_hover"
        >
            {{ _("Download App") }}
            <svg
                class="ml-2 w-5 h-5"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"
                ></path>
                <path
                    d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"
                ></path>
            </svg>
        </a>
    </div>

    <script>
        function toggleIndexes(openedIndexes, index) {
            if (!openedIndexes.includes(index)) {
                return [...openedIndexes, index];
            } else {
                // remove the index from openIndex array
                return openedIndexes.filter((i) => i !== index);
            }
        }
    </script>
</div>

<style>
    .emoji {
        display: inline-block;
        width: 1.5em; /* Adjust this value to provide sufficient space for the emoji */
        text-align: center;
    }
</style>
